A message queue is an Inter-Process Communication (IPC) mechanism that 
allows processes to exchange data in the form of messages.
Why Message Queue?
✔ Sender and receiver do not need to run at the same time
✔ Asynchronous communication
✔ Messages can have priority
✔ No shared memory → safe communication
Basic Working
Process A creates a message queue
Process A sends a message
Process B receives the message
Message is removed from the queue after reading
Function	Purpose
msgget()	Create / access queue
msgsnd()	Send message
msgrcv()	Receive message
msgctl()	Control / delete queue
struct msgbuf {
    long mtype;     // message type (must be > 0)
    char mtext[100]; // message data
};
msgtyp value	    Behavior
    >0	            Receive specific type
    0	            Receive first message(FIFO)
    <0	            Receive lowest type ≤ value
two types :
1)id based -> no need any system call direct id pass
2)key based -> key is generated using ftok() system call

System Calls :

int msgget(key_t key, int msgflg); → Create / Access Message Queue
key	   → Unique key to identify message queue
msgflg → Permission + control flags
Success → message queue ID (msgid)
Failure → -1


int msgsnd(int msgid, const void *msgp, size_t msgsz, int msgflg); → Send Message to Queue
Parameter	Meaning
msgid	    Message queue ID
msgp	    Pointer to message structure
msgsz	    Size of message data (excluding mtype)
msgflg  	Control flags
Success → 0
Failure → -1

ssize_t msgrcv(int msgid, void *msgp, size_t msgsz,long msgtyp, int msgflg); → Receive Message from Queue
Parameter	Meaning
msgid	    Message queue ID
msgp	    Buffer to store received message
msgsz	    Max size of message
msgtyp	    Message type to receive
msgflg	    Control flags
msgtyp Behavior
Value	Meaning
>0	    Receive specific message type
0	    Receive first message
<0	    Receive lowest type ≤ value
Success → number of bytes received
Failure → -1

int msgctl(int msgid, int cmd, struct msqid_ds *buf); → Control / Delete Message Queue
Parameter	Meaning
msgid	    Message queue ID
cmd	        Control command
buf	        Queue info structure
Command	    Purpose
IPC_RMID	Remove message queue
IPC_STAT	Get queue status
IPC_SET	    Set queue parameters
Success → 0
Failure → -1